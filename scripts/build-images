#!/bin/bash

PROGNAME=$(basename $0)
USAGE='Usage: '$PROGNAME' 0 | 1 | 2 (Detail Level)'
source ./scripts/bash-functions

export DETAIL_LEVEL=&>/dev/null
if [ $# == 1 ]; then set-detail-level $1; fi

echo 'Building Images ... '
source .tcs.version "$DETAIL_LEVEL"
echo 'Detail Level: '$DETAIL_LEVEL
docker-compose $STORES_COMPOSE_ARGS build "$DETAIL_LEVEL" || exit 1;
docker login -u ccbcadmin -p 2620Turner "$DETAIL_LEVEL" || exit 1;
docker push 'ccbcadmin/tcs-image'$TCS_VERSION "$DETAIL_LEVEL" || exit 1;
docker push 'ccbcadmin/tcs-jenkins'$TCS_VERSION "$DETAIL_LEVEL" || exit 1;

echo $PROGNAME' Complete'
exit 0
